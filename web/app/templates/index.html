<!--
# @name: index.html
# @creation_date: 2022-06-07
# @license: The MIT License <https://opensource.org/licenses/MIT>
# @author: Simon Bowie <simon.bowie.19@gmail.com>
# @purpose: Basic layout for homepage
# @acknowledgements:
# https://www.digitalocean.com/community/tutorials/how-to-make-a-web-application-using-flask-in-python-3
# Bootstrap 5.1.3: https://getbootstrap.com/
-->

{% extends "base.html" %}

{% block content %}
  <div class="container-fluid px-5">

      {% for result in results %}
      {% if result['locationDetail']['description'] == "Pollokshaws West" %}
      <div class="d-flex justify-content-start">
      {% elif result['locationDetail']['description'] == "Shawlands" %}
      <div class="d-flex justify-content-end">
      {% endif %}
        <div class="m-3 d-flex align-items-center">
          <a href="https://www.realtimetrains.co.uk/service/gb-nr:{{ result['serviceUid'] }}/{{ result['runDate'] }}">
            <h3>{{ result['locationDetail']['description']}}</h3>
          </a>
        </div>
        <br/>
        {% if result['locationDetail']['realtimeArrival'] < result['locationDetail']['gbttBookedArrival'] %}
          <div class="text-success display-4 m-3">
            {{ result['locationDetail']['gbttBookedArrival'] }}
          </div>
        {% elif result['locationDetail']['realtimeArrival'] > result['locationDetail']['gbttBookedArrival'] %}
          <div class="text-danger display-2 m-3">
            Scheduled: {{ result['locationDetail']['gbttBookedArrival'] }}
            Actual: {{ result['locationDetail']['realtimeArrival'] }}
          </div>
        {% elif result['locationDetail']['realtimeArrival'] == result['locationDetail']['gbttBookedArrival'] %}
          <div class="display-4 m-3">
            {{ result['locationDetail']['gbttBookedArrival'] }}
          </div>
        {% endif %}
      </div>
      {% endfor %}
    </div>
  </div>
{% endblock %}
